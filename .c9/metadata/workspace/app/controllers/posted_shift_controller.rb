{"filter":false,"title":"posted_shift_controller.rb","tooltip":"/app/controllers/posted_shift_controller.rb","undoManager":{"mark":-1,"position":-1,"stack":[[{"group":"doc","deltas":[{"start":{"row":18,"column":0},"end":{"row":31,"column":5},"action":"remove","lines":["  def pick_up_shift","    @user_shift = current_user.shifts.where(date: @shift.date).first","    if @user_shift.nil?","        @user_shift = @shift","        @user_shift.user_id = current_user.id","        if @shift.save && @shift.sold!","            flash[:notice] = 'Shift successfully traded.' ","            redirect_to calendar_path","        else","            flash[:alert] = \"Shift Could not be Traded\"","             redirect_to shift_trade_board_path","        end","    end","  end"]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":2},"end":{"row":18,"column":0},"action":"remove","lines":["",""]}]}]]},"ace":{"folds":[],"scrolltop":60,"scrollleft":0,"selection":{"start":{"row":18,"column":0},"end":{"row":31,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":11,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1427490631270,"hash":"6f4beb0d4b6f7e6d15564e1e08e211a9c1fde180"}